<?xml version="1.0" encoding="utf-8"?>
<x:description
	stylesheet="../_NavigationHelper.xslt"
	xslt-version="1.0"
	xmlns:x="http://www.jenitennison.com/xslt/xspec"
>

	<x:scenario label="processing in 'mainnav' mode">
		<x:call template="Navigation">
			<x:param name="mode" select="'mainnav'" />
			<x:param name="context" select="document('fixtures/simple-site.xml', /)/Website" />			
		</x:call>
		
		<x:scenario label="when processing a single node">
			<x:call>
				<x:param name="context"><Website><Textpage id="1200" nodeName="Page 1" isDoc=""></Textpage></Website></x:param>
			</x:call>
			<x:expect label="it should produce a link wrapped in a list item">
				<li><a href="1200">Page 1</a></li>
			</x:expect>
		</x:scenario>
	
		<x:scenario label="when processing the simple-site fixture">
			<x:call />
			<x:expect label="it should generate links to the 4 top level pages">
				<li><a href="...">Page A</a></li>
				<li><a href="...">Page B</a></li>
				<li><a href="...">Page C</a></li>
				<li><a href="...">Page D</a></li>
			</x:expect>
		</x:scenario>
	</x:scenario>
		
</x:description>