<?xml version="1.0" encoding="utf-8"?>
<x:description
	stylesheet="../_NavigationHelper.xslt"
	xslt-version="1.0"
	xmlns:x="http://www.jenitennison.com/xslt/xspec"
>

	<x:scenario label="processing in 'sitemap' mode">
		<x:call template="Navigation">
			<x:param name="mode" select="'sitemap'" />
		</x:call>
	
		<x:scenario label="when processing the simple-site fixture">
			<x:call>
				<x:param name="context" select="document('fixtures/simple-site.xml', /)/Website/Textpage" />
			</x:call>
			<x:expect label="it should generate the complete sitemap">
				<li>
					<a href="...">Page A</a>
					<ul>
						<li><a href="...">Page A1</a></li>
						<li><a href="...">Page A2</a></li>
						<li><a href="...">Page A3</a></li>
					</ul>
				</li>
				<li><a href="...">Page B</a></li>
				<li><a href="...">Page C</a></li>
				<li>
					<a href="...">Page D</a>
					<ul>						
						<li><a href="...">Page D1</a></li>
						<li><a href="...">Page D2</a></li>
						<li>
							<a href="...">Page D3</a>
							<ul>
								<li><a href="...">Page D3a</a></li>
								<li><a href="...">Page D3b</a></li>
								<li><a href="...">Page D3c</a></li>
							</ul>
						</li>
					</ul>
				</li>
			</x:expect>
		</x:scenario>

	</x:scenario>
	
</x:description>
